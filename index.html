<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wallet Connect Test</title>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>

<script src="https://unpkg.com/@web3modal/ethereum@2.7.1/dist/index.umd.js"></script>
<script src="https://unpkg.com/@web3modal/html@2.7.1/dist/index.umd.js"></script>

<style>
body{
  background:#000;
  color:#fff;
  font-family:Arial;
  text-align:center;
  padding-top:100px;
}
button{
  padding:15px 30px;
  background:gold;
  border:none;
  border-radius:10px;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<h2>Wallet Connect Test</h2>

<button onclick="connectWallet()">Connect Wallet</button>

<div id="walletDisplay" style="margin-top:20px;color:gold;"></div>

<script>

let provider, signer, userAddress;
let web3Modal;

const projectId="d1b044ae2663b9697bc5ab584bfb57e5";

const chains=[{
  chainId:56,
  name:"BNB Smart Chain",
  currency:"BNB",
  explorerUrl:"https://bscscan.com",
  rpcUrl:"https://bsc-dataseed.binance.org/"
}];

const { EthereumClient } = window.Web3ModalEthereum;
const { Web3Modal } = window.Web3Modal;

const ethereumClient = new EthereumClient({
  chains,
  projectId
});

web3Modal = new Web3Modal({
  projectId,
  themeMode:"dark"
}, ethereumClient);

async function connectWallet(){

  try{

    const walletProvider = await web3Modal.connect();

    provider = new ethers.providers.Web3Provider(walletProvider);
    signer = provider.getSigner();
    userAddress = await signer.getAddress();

    const network = await provider.getNetwork();

    if(network.chainId !== 56){
      alert("Switch to BNB Smart Chain");
      return;
    }

    document.getElementById("walletDisplay").innerHTML =
      "Connected: " + userAddress;

    alert("Wallet Connected Successfully");

  }catch(e){
    console.log(e);
    alert("Connection Failed");
  }
}

</script>

</body>
</html>
